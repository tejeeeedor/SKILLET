<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fechas de Gira - Skillet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- FUENTES Y ESTILO GENERAL --- */
        @import url('https://fonts.googleapis.com/css2?family=Teko:wght@400;600&family=Roboto:wght@400;700&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-image: url('https://i.pinimg.com/originals/9a/6f/fd/9a6ffd67ac28aa3299eb24d3c7cfa34e.jpg');
            background-repeat: repeat;
            background-size: cover;
            background-attachment: fixed;
            background-color: #111;
            color: #cccccc;
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
            background-color: rgba(18, 18, 20, 0.85); 
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        header {
            background: linear-gradient(to bottom, #5a0b0b, #380202); 
            border-bottom: 5px solid #e10600; 
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 8px 15px rgba(0,0,0,0.8); 
        }
        
        .navbar { display: flex; justify-content: space-between; align-items: center; height: 70px; }
        
        .logo {
            font-family: 'Teko', sans-serif;
            font-size: 38px;
            font-weight: 600;
            color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
            background-image: linear-gradient(180deg, #fff 0%, #ccc 80%, #aaa 100%);
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 1px 1px 0px #000, 2px 2px 0px #e10600;
        }
        
        .nav-links { display: flex; list-style: none; height: 100%; align-items: center; }
        .nav-links a {
            color: #d1d1d1;
            text-decoration: none;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            padding: 0 20px;
            transition: 0.3s;
            cursor: pointer;
        }
        
        .nav-links a:hover { color: #fff; background-color: #380202; border-bottom: 3px solid #e10600; }
        
        .cart-count { background-color: #e10600; color: white; border-radius: 50%; padding: 2px 7px; font-size: 0.8em; margin-left: 5px; font-weight: 700; }

        section { padding: 80px 0; }
        h2 { font-family: 'Teko', sans-serif; color: #e0e0e0; font-size: 3.5em; margin-bottom: 50px; border-left: 8px solid #e10600; padding-left: 15px; transform: skewX(-5deg); }

        /* TABLA */
        .tour-dates-table { width: 100%; border-collapse: collapse; background: #1a1b1e; }
        .tour-dates-table thead { background: #e10600; color: white; font-family: 'Teko', sans-serif; font-size: 1.5em; }
        .tour-dates-table th, .tour-dates-table td { padding: 15px; text-align: left; border-bottom: 1px solid #333; }
        
        .ticket-input-group { display: flex; align-items: center; gap: 10px; }
        .ticket-input-group input { width: 50px; padding: 8px; background: #111; color: white; border: 1px solid #e10600; text-align: center; }
        
        .add-ticket-btn { background: #e10600; color: white; border: none; padding: 8px 15px; cursor: pointer; font-weight: 700; text-transform: uppercase; box-shadow: 0 4px 0 #8a0400; }
        .add-ticket-btn:hover { background: #ff3300; transform: translateY(-2px); }

        /* CARRITO FLOTANTE */
        #floating-cart {
            position: fixed; top: 0; right: -400px; width: 380px; height: 100%; 
            background: #1a1a1a; z-index: 2000; padding: 20px; transition: 0.4s; border-left: 5px solid #e10600;
        }
        #floating-cart.open { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #333; padding-bottom: 15px; }
        .cart-item { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; padding: 15px 0; border-bottom: 1px dotted #333; align-items: center; }

        /* CHECKOUT */
        .checkout-section { display: none; }
        .checkout-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 30px; }
        .checkout-details, .checkout-summary { background: #1a1b1e; padding: 30px; border-top: 3px solid #e10600; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; color: #ccc; font-size: 0.8em; text-transform: uppercase; margin-bottom: 5px; }
        .form-group input { width: 100%; padding: 10px; background: #0d0d0f; border: 1px solid #444; color: #fff; }
        .form-group-half { display: flex; gap: 15px; }
        .form-group-half div { flex: 1; }

        .confirm-payment-btn { width: 100%; padding: 15px; background: #e10600; color: white; border: none; font-family: 'Teko', sans-serif; font-size: 1.5em; cursor: pointer; text-transform: uppercase; }

        footer { background: #0a0a0a; padding: 40px 0; text-align: center; border-top: 5px solid #222; }
        .copyright { color: #555; font-size: 0.8rem; text-transform: uppercase; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">SKILLET</div>
                <ul class="nav-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="miembros.html">Miembros</a></li>
                    <li><a href="gira.html">Gira</a></li>
                    <li><a href="tienda.html">Tienda</a></li>
                    <li><a onclick="toggleCart()">Carrito <i class="fa-solid fa-cart-shopping"></i> <span id="cart-count">0</span></a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="tour-list-section">
        <div class="container">
            <h2>Próximas Fechas de Gira</h2>
            <table class="tour-dates-table">
                <thead>
                    <tr><th>Fecha</th><th>Ciudad</th><th>Recinto</th><th>Entradas</th></tr>
                </thead>
                <tbody id="tour-dates-body"></tbody>
            </table>
        </div>
    </section>

    <div id="floating-cart">
        <div class="cart-header">
            <h3>Tu Carrito</h3>
            <button class="close-btn" onclick="toggleCart()"><i class="fa-solid fa-times"></i></button>
        </div>
        <div id="cart-items-container"></div>
        <div class="cart-footer" style="margin-top: 20px;">
            <div style="display: flex; justify-content: space-between; color: white; font-size: 1.5em; font-family: 'Teko';">
                <span>Total:</span><span id="cart-total-price">0.00€</span>
            </div>
            <button class="confirm-payment-btn" style="margin-top:15px;" onclick="goToCheckout()">Proceder al Pago</button>
        </div>
    </div>

    <section id="checkout-form" class="checkout-section">
        <div class="container">
            <h2>Pago Seguro <i class="fa-solid fa-lock"></i></h2>
            <div class="checkout-grid">
                <div class="checkout-details">
                    <h3>1. Envío y Contacto</h3>
                    <div class="form-group"><label>Email</label><input type="email" required placeholder="tu@email.com"></div>
                    <div class="form-group"><label>Nombre</label><input type="text" required placeholder="John Cooper"></div>
                    <div class="form-group"><label>Dirección</label><input type="text" required placeholder="C/ Rock 123"></div>
                </div>
                <div class="checkout-summary">
                    <h3>2. Detalles de Pago</h3>
                    <div class="form-group">
                        <label>Tarjeta (16 dígitos)</label>
                        <input type="text" id="card-number" required pattern="\d{16}" maxlength="16" placeholder="1234567812345678">
                    </div>
                    <div class="form-group-half">
                        <div><label>Caducidad (MM/AA)</label><input type="text" required pattern="(0[1-9]|1[0-2])\/[0-9]{2}" maxlength="5" placeholder="12/26"></div>
                        <div><label>CVV</label><input type="text" required pattern="\d{3}" maxlength="3" placeholder="123"></div>
                    </div>
                    <div style="color: #ccc; margin-top: 15px;">
                        <p>Subtotal: <span id="summary-subtotal">0.00€</span></p>
                        <p>Cargos: 5.00€</p>
                        <h3 style="color: #e10600;">Total: <span id="summary-final-total">0.00€</span></h3>
                    </div>
                    <button class="confirm-payment-btn" style="margin-top: 20px;" onclick="completePurchase()">Pagar <span id="payment-amount">0.00€</span></button>
                </div>
            </div>
        </div>
    </section>

    <footer><div class="container"><p class="copyright">© 2025 Skillet Fan Site.</p></div></footer>

    <script>
        // 1. DATOS DE GIRA AMPLIADOS
const tourDates = [
    { id: 101, date: "25 MARZO 2026", city: "Ciudad de México, MX", venue: "Auditorio Nacional", price: 45.00 },
    { id: 102, date: "28 MARZO 2026", city: "Monterrey, MX", venue: "Arena Monterrey", price: 40.00 },
    { id: 103, date: "05 ABRIL 2026", city: "Bogotá, CO", venue: "Movistar Arena", price: 50.00 },
    { id: 104, date: "08 ABRIL 2026", city: "Santiago, CL", venue: "Movistar Arena Chile", price: 55.00 },
    { id: 105, date: "12 ABRIL 2026", city: "Buenos Aires, AR", venue: "Luna Park", price: 50.00 },
    { id: 106, date: "10 MAYO 2026", city: "Madrid, ES", venue: "Palacio Vistalegre", price: 55.00 },
    
];

        let cart = [];
        const tourDatesBody = document.getElementById('tour-dates-body');
        const cartContainer = document.getElementById('cart-items-container');

        function renderTourDates() {
            tourDatesBody.innerHTML = '';
            tourDates.forEach(event => {
                tourDatesBody.innerHTML += `<tr>
                    <td>${event.date}</td><td>${event.city}</td><td>${event.venue}</td>
                    <td><div class="ticket-input-group">
                        <input type="number" id="input-${event.id}" min="1" value="1">
                        <button class="add-ticket-btn" onclick="addToCart(${event.id})">Añadir</button>
                    </div></td></tr>`;
            });
        }

        function toggleCart() { document.getElementById('floating-cart').classList.toggle('open'); }

        function addToCart(id) {
            const qty = parseInt(document.getElementById(`input-${id}`).value);
            const event = tourDates.find(e => e.id === id);
            const inCart = cart.find(i => i.id === id);
            if (inCart) inCart.cantidad += qty;
            else cart.push({ id, name: event.city, price: event.price, cantidad: qty });
            renderCart();
            toggleCart();
        }

        function renderCart() {
            cartContainer.innerHTML = cart.length === 0 ? '<p style="color:#666">Carrito vacío</p>' : '';
            let total = 0, tickets = 0;
            cart.forEach(item => {
                total += item.price * item.cantidad;
                tickets += item.cantidad;
                cartContainer.innerHTML += `<div class="cart-item">
                    <div><h4>${item.name}</h4><p>${item.price}€ x ${item.cantidad}</p></div>
                    <strong>${(item.price * item.cantidad).toFixed(2)}€</strong>
                </div>`;
            });
            document.getElementById('cart-count').textContent = tickets;
            document.getElementById('cart-total-price').textContent = total.toFixed(2) + '€';
            document.getElementById('summary-subtotal').textContent = total.toFixed(2) + '€';
            const final = total > 0 ? total + 5 : 0;
            document.getElementById('summary-final-total').textContent = final.toFixed(2) + '€';
            document.getElementById('payment-amount').textContent = final.toFixed(2) + '€';
        }

        function goToCheckout() {
            if (cart.length === 0) return;
            toggleCart();
            document.getElementById('tour-list-section').style.display = 'none';
            document.getElementById('checkout-form').style.display = 'block';
            window.scrollTo(0,0);
        }

        /* VALIDACIÓN Y PAGO FINAL */
        function completePurchase() {
            const inputs = document.querySelectorAll('#checkout-form input[required]');
            let formValido = true;

            inputs.forEach(input => {
                if (!input.checkValidity()) {
                    input.reportValidity();
                    formValido = false;
                }
            });

            if (!formValido) return;

            const finalTotal = document.getElementById('summary-final-total').textContent;
            document.getElementById('checkout-form').style.display = 'none';
            cart = [];
            renderCart();

            document.body.insertAdjacentHTML('beforeend', `
                <div id="confirmation-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:3000;display:flex;justify-content:center;align-items:center;">
                    <div style="background:#1a1b1e;border:5px solid #e10600;padding:50px;text-align:center;max-width:500px;box-shadow:0 0 40px rgba(225,0,0,0.5);">
                        <i class="fa-solid fa-check-circle" style="font-size:5em;color:#2ecc71;margin-bottom:20px;"></i>
                        <h3 style="font-family:'Teko';font-size:3em;color:#fff;">¡PAGO EXITOSO!</h3>
                        <p style="color:#ccc;">Has pagado ${finalTotal} y tus entradas están listas.</p>
                        <button onclick="location.reload()" style="background:#e10600;color:white;border:none;padding:10px 20px;margin-top:30px;cursor:pointer;font-family:'Teko';font-size:1.2em;">VOLVER A GIRA</button>
                    </div>
                </div>
            `);
        }

        renderTourDates();
    </script>
</body>
</html>